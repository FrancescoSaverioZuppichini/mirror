{"version":3,"sources":["api.js","ModuleContainer/ModuleContainer.js","Module/Layer/Layer.js","Module/Module.js","Settings/Settings.js","Module/LayerOutputs/LayerOutputs.js","Inputs/Inputs.js","App.js","serviceWorker.js","index.js"],"names":["api","GET_MODULE","GET_INPUTS","PUT_INPUTS","GET_VISUALISATIONS","PUT_VISUALISATIONS","getModuleLayerOutput","id","concat","ModuleContainer","state","tree","visualisations","currentVisualisation","isLoading","open","outputs","layer","name","last","next","settings","size","inputs","currentInput","toogleDrawer","_callee","regenerator_default","a","wrap","_context","prev","_this","setState","stop","this","getLayerOutputs","_callee2","start","isSameLayer","res","_args2","arguments","_context2","length","undefined","console","log","abrupt","axios","get","params","sent","data","links","t0","changeSettings","_callee3","_context3","current","put","key","Container","Layer","getMoreOnScrollBottom","isCurrentLayer","props","module","layerId","window","scrollY","scrollMaxY","handleClick","renderLayer","split","react_default","createElement","List_default","ListItem_default","button","onClick","ListItemText_default","primary","ExpandLess_default","ExpandMore_default","Collapse_default","in","timeout","unmountOnExit","children","map","el","i","deepth","addEventListener","style","marginLeft","Component","Module","getTree","Module_Layer_Layer","VisualisationSettings","anchorEl","handleMenuClick","event","currentTarget","handleClose","param","value","update","Object","objectSpread","fromDown","makeParam","type","max","min","step","className","classes","sliders","Slider_default","aria-labelledby","onChange","debounce","e","v","Radio_default","checked","aria-label","items","Button_default","aria-owns","aria-haspopup","Menu_default","Boolean","onClose","item","MenuItem_default","TextField_default","label","target","margin","_this$props","VisualisationSettingsRoot","down","visualisation","_this2","setVisualisationsSettings","_this3","_this$props2","keys","k","Settings_VisualisationSettings","assign","Settings","onVisualisationSettingsChange","_this4","handleSlider","getVisualisations","_this5","_this$props3","toogle","_this$props3$small","small","Drawer_default","anchor","variant","drawer","paper","drawerPaper","toolbar","Settings_VisualisationSettingsRoot","Image","_ref2","src","height","width","Grid_default","LayerOutputs","container","direction","justify","alignItems","spacing","xs","Typography_default","gutterBottom","textAlign","link","LayerOutputs_Image","color","React","Input","_ref","isActive","classNames","inputImg","defineProperty","inputImgActive","setInput","withStyles","borderBottom","Inputs","getInputs","index_es","inputsBar","Inputs_Input","MyAppBar","AppBar_default","position","appBar","Toolbar_default","noWrap","flexGrow","Hidden_default","mdUp","IconButton_default","MoreVert_default","App","openSettings","toggleSettings","unstated_es","to","root","Module_Module","LinearProgress_default","progress","content","Module_LayerOutputs_LayerOutputs","Inputs_Inputs","smDown","src_Settings_Settings","StyledApp","theme","display","flexDirection","minHeight","typography","useNextVariants","zIndex","flexShrink","backgroundColor","palette","background","default","padding","unit","marginBottom","mixins","top","layersOuput","bottom","left","overflowY","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e85ab74f.chunk.js","sourcesContent":["\nconst api = {\n    GET_MODULE : '/api/model',\n    GET_INPUTS: '/api/inputs',\n    PUT_INPUTS: '/api/inputs',\n    GET_VISUALISATIONS: '/api/visualisation',\n    PUT_VISUALISATIONS: '/api/visualisation',\n    getModuleLayerOutput : (id) => `/api/model/layer/output/${id}`\n}\n\nexport default api","import React, { Component } from 'react'\nimport { Container } from 'unstated';\nimport axios from 'axios'\nimport api from '../api.js'\nimport querystring from 'querystring'\n\nclass ModuleContainer extends Container {\n    state = {\n        tree: null,\n        visualisations: [],\n        currentVisualisation: {},\n        isLoading: false,\n        open: false,\n        outputs: [],\n        layer: { name : ''},\n        last: 0,\n        next: false,\n        settings: { size: 50 },\n        inputs: [],\n        currentInput: 0\n    }\n\n    async getTree() {\n        await this.setState({ isLoading: true })\n\n        const res = await axios.get(api.GET_MODULE)\n        const tree = res.data\n\n        await this.setState({ tree, isLoading: false })\n    }\n\n    toogleDrawer = async () => {\n        await this.setState({ open: !this.state.open })\n\n    }\n\n    getLayerOutputs = async (layer=this.state.layer, start=false) => {\n        if(this.state.isLoading){\n            console.log('Loading')\n            return\n        } \n        var isSameLayer = layer.id == this.state.layer.id\n        if(start) isSameLayer = false\n        var last = isSameLayer ? this.state.last + 64 : 0\n        try {\n            await this.setState({ isLoading: true })\n\n            const res = await axios.get(api.getModuleLayerOutput(layer.id, last), { params: { last } })\n    \n            var outputs = isSameLayer ? this.state.outputs.concat(res.data.links) : res.data.links\n            \n            await this.setState({ outputs, layer, last, isLoading: false, next: res.data.next })\n        } catch {\n            await this.setState({ isLoading: false })\n        }\n    }\n\n    changeSettings = async(settings) => {\n        await this.setState( { settings })\n    }\n\n    async getVisualisations() {\n        if(this.state.isLoading){\n            console.log('Loading')\n            return\n        } \n        await this.setState({ isLoading: true })\n\n        const res = await axios.get(api.GET_VISUALISATIONS)\n        const visualisations = res.data.visualisations\n        const currentVisualisation = res.data.current\n        await this.setState({ visualisations, isLoading: false, currentVisualisation })\n    }\n\n    async setVisualisationsSettings(data){\n        if(this.state.isLoading){\n            console.log('Loading')\n            return\n        } \n        await this.setState({ isLoading: true })\n\n        const res = await axios.put(api.PUT_VISUALISATIONS, data)\n\n        const currentVisualisation = res.data\n        var visualisations = [...this.state.visualisations]\n        // TODO could be smarter!\n        for(let key in visualisations){\n            if(visualisations[key].name == currentVisualisation.name){\n                visualisations[key] = currentVisualisation\n            }\n        }\n        await this.setState({isLoading: false, currentVisualisation, visualisations })\n\n    }\n\n    async getInputs() {\n        const res = await axios.get(api.GET_INPUTS)\n        await this.setState({ inputs :res.data.links })\n    }\n\n    async setInput(id){\n        const res = await axios.put(api.PUT_INPUTS, {id})\n        await this.getLayerOutputs(this.state.layer, true)\n        const currentInput = res.data.id\n        await this.setState({currentInput})\n    }\n\n}\n\nexport default ModuleContainer","import React, { Component } from 'react'\n\nimport { withStyles } from '@material-ui/core/styles';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport DraftsIcon from '@material-ui/icons/Drafts';\nimport SendIcon from '@material-ui/icons/Send';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport StarBorder from '@material-ui/icons/StarBorder';\n\nconst styles = theme => ({\n    nested: {\n        paddingLeft: props => theme.spacing.unit * props.deepth,\n    }\n})\n\nclass Layer extends Component {\n\n    state = {\n        open: false,\n    }\n\n    componentDidMount() {\n        window.addEventListener('scroll', this.getMoreOnScrollBottom)\n    }\n\n    getMoreOnScrollBottom = () => {\n        const isCurrentLayer =  this.props.module.state.layerId == this.props.layer.id\n\n        if (window.scrollY == window.scrollMaxY && isCurrentLayer && !this.props.module.state.isLoading) {\n            this.props.module.getLayerOutputs(this.props.layer.id)\n        } \n    }\n\n    componentWillUnmount() {\n        window.addEventListener('scroll', this.getMoreOnScrollBottom)\n    }\n\n    handleClick = (layer) => {\n        this.setState(state => ({ open: !state.open }));\n        this.props.module.getLayerOutputs(layer)\n    }\n\n    renderLayer = (layer) => {\n\n        const name = this.props.layer.name.split('(')[0]\n\n        return (<List>\n            <ListItem button onClick={() => this.handleClick(this.props.layer)} >\n                <ListItemText primary={name} />\n                {this.state.open ? <ExpandLess /> : <ExpandMore />}\n            </ListItem>\n            <Collapse in={this.state.open} timeout=\"auto\" unmountOnExit>\n                {layer.children.map((el, i) => (<Layer layer={el} module={this.props.module} key={i} deepth={this.props.deepth + 1}>\n                </Layer>))}\n            </Collapse>\n        </List>\n        )\n    }\n\n    render() {\n        const layer = this.props.layer\n        return (\n            <List style={{ marginLeft: 8 * this.props.deepth / 2 }}>\n                {layer ? this.renderLayer(layer) : (<ListItem></ListItem>)}\n            </List>\n        )\n    }\n}\n\n\nexport default Layer;\n","import React, { Component } from 'react'\nimport Layer from './Layer/Layer';\nimport List from '@material-ui/core/List';\n\nexport default class Module extends Component {\n    componentDidMount(){\n        this.props.module.getTree()\n    }\n\n\n    render() {\n        var tree = this.props.module.state.tree\n\n        return (\n        <List>\n            <Layer layer={tree} module={this.props.module} deepth={1}/>\n        </List>\n        )\n    }\n}\n","import React, { Component } from 'react';\n\nimport Drawer from '@material-ui/core/Drawer';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport ModuleContainer from '../ModuleContainer/ModuleContainer'\nimport { Provider, Subscribe } from 'unstated';\n\nimport Slider from '@material-ui/lab/Slider';\nimport Radio from '@material-ui/core/Radio';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport {debounce} from 'throttle-debounce';\n\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\n\nclass VisualisationSettings extends Component{\n    state = {\n        anchorEl: null,\n    }\n    \n    handleMenuClick = event => {\n        this.setState({ anchorEl: event.currentTarget })\n    }\n\n    handleClose = (param, value) => {\n        this.setState({ anchorEl: null })\n        this.update({...param,  ...{value }})\n    }\n\n    update = (value) => {\n        var param = {...this.props.param, ...value}\n        // console.log('value', value)\n        // console.log('this.props.visualisation,', this.props.param)\n        // console.log('visualisation,', param)\n        const key = this.props.name\n        var fromDown =  {}\n        fromDown[key] = param\n        this.props.update( fromDown)\n    }\n\n    makeParam = (param) => {\n        if(param.type == 'slider') {\n            var { max, min, step, value } = param\n            return  (\n                <ListItemText>\n                    <div>{this.props.name + ' : ' + value}</div>\n                    <div className={this.props.classes.sliders}>\n                    <Slider\n                        value={value}\n                        aria-labelledby=\"label\"\n                        min={min}\n                        max={max}\n                        step={step}\n                        onChange={debounce(300, (e, v) => this.update({...param,  ...{value : v}})) }\n                    />\n                    </div>\n                </ListItemText>)\n        }\n\n        else if(param.type == 'radio') {\n            return   (\n                <ListItemText>\n                    <div>{this.props.name}\n                    <Radio\n                    checked={param.value}\n                    onClick={(e, v) => this.update({...param,  ...{value : !param.value}}) }\n                    value=\"a\"\n                    name=\"radio-button-demo\"\n                    aria-label=\"A\"\n                    />\n                    </div>\n                </ListItemText>)\n        }\n\n        else if(param.type == 'menu') {\n            var { items, value } = param\n            var { anchorEl} = this.state\n\n            return   (\n                <ListItemText>\n                  <div>\n                    {this.props.name}\n                    <Button\n                    aria-owns={anchorEl ? `${this.props.name}-menu` : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={this.handleMenuClick}\n                    >\n                    {value}\n                    </Button>\n                    <Menu\n                    id={`${this.props.name}-menu`}\n                    anchorEl={anchorEl}\n                    open={Boolean(anchorEl)}\n                    onClose={this.handleClose}\n                    >\n                    {items.map(item => (<MenuItem onClick={() => this.handleClose(param, item)}>{item}</MenuItem>))}\n                    </Menu>\n                </div>\n                </ListItemText>)\n        }\n        else if(param.type == 'textfield') {\n            return (\n            <ListItemText>\n                <TextField\n                label={param.label}\n                value={this.state.name}\n                onChange={(e) => debounce(300, this.update({...param,  ...{value : e.target.value}}))}\n                margin=\"normal\"\n                />\n            </ListItemText>)\n        }\n    }\n\n    render(){\n        const { classes, module, param, name} = this.props\n        const {params} = param\n\n        return (\n            <List>\n                <ListItem>\n                    {this.makeParam(param)}\n                </ListItem>\n                <ListItem>\n                </ListItem>\n                \n            </List>\n        )\n    }\n}\n\nclass VisualisationSettingsRoot extends Component {\n    update = (value, down=true) => {\n        console.log('from down', value)\n        \n        if(down) {\n            var visualisation = {...this.props.visualisation.params, ...value}\n            visualisation = {...this.props.visualisation, params: visualisation}\n        } else{\n            visualisation = {...this.props.visualisation, ...value}\n        }\n        console.log(visualisation)\n        this.props.module.setVisualisationsSettings(visualisation)\n        this.props.module.getLayerOutputs(this.props.module.state.layer, true)\n\n    }\n\n    render(){\n        const { module, visualisation} = this.props\n        const { name, params} = visualisation\n\n        return (\n            <List>\n                <ListItem>\n                    <ListItemText>\n                    <div>{name}</div>\n                    </ListItemText>\n                    <Radio\n                    checked={this.props.module.state.currentVisualisation.name == name}\n                    onChange={(e, v) => this.update({...visualisation, value:v }, false) }\n                    value=\"a\"\n                    name=\"radio-button-demo\"\n                    aria-label=\"A\"\n                    />\n                </ListItem>\n                    {Object.keys(params).map((k, i) => (<VisualisationSettings \n                    {...this.props}\n                    name={k}\n                    param={params[k]} \n                    update={this.update}\n                    key={i}/>))}\n            </List>\n        )\n    }\n}\n\n\nclass Settings extends Component {\n    componentDidMount(){\n        this.props.module.getVisualisations()\n    }\n\n    onVisualisationSettingsChange = (data) => {\n        this.props.module.setVisualisationsSettings(data)\n    }\n\n    handleSlider = (e, size) => {\n        const { module } = this.props\n        var settings = module.state.settings\n\n        settings = Object.assign({}, settings, { size })\n\n        module.changeSettings(settings)\n    }\n\n\n    render() {\n        const { toogle, classes, open, module, small=false } = this.props\n        return (\n            <Drawer anchor=\"right\"\n                variant={small ? 'temporary' : 'permanent'} \n                open={open}\n                className={classes.drawer}\n                onClose={toogle}\n                classes={{\n                    paper: classes.drawerPaper,\n                  }}\n                >\n                <div className={classes.toolbar} />\n                <List className={classes.settings}>\n                    <ListItem>\n                        <ListItemText>\n                            Image size : {module.state.settings.size}\n                        </ListItemText>\n\n                    </ListItem>\n                    <ListItem>\n                        <Slider\n                            value={module.state.settings.size}\n                            aria-labelledby=\"label\"\n                            min={1}\n                            max={100}\n                            step={1}\n                            onChange={this.handleSlider}\n                        />\n                    </ListItem>\n                </List>\n\n                  <List className={classes.settings}>\n                  <ListItem>\n\n                  <ListItemText>\n                  <div>Visualisations</div>\n                        {this.props.module.state.visualisations.map((v,i)=> <VisualisationSettingsRoot \n                        key={i}\n                        {...this.props} \n                        visualisation={v} \n                        update={this.onVisualisationSettingsChange}/>)}\n                  </ListItemText>\n                  </ListItem>\n\n                  </List>\n            </Drawer>\n        )\n    }\n\n}\n\nexport default Settings","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Grid from '@material-ui/core/Grid';\n\nimport Slider from '@material-ui/lab/Slider';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nclass AtomicImage  extends Component {\n    constructor(props) {\n         super(props);\n         this.state = {dimensions: {}};\n         this.onImgLoad = this.onImgLoad.bind(this);\n     }\n     onImgLoad({target:img}) {\n         this.setState({dimensions:{height:img.offsetHeight,\n                                    width:img.offsetWidth}});\n     }\n     render(){\n         const {src, size} = this.props;\n         const {width, height} = this.state.dimensions;\n        \n         const style = {\n            // backgroundImage : `url(${src})`,\n            // backgroundSize: 100% 100%,\n            height: `${height * size}px`,\n            width: `${width * size}px`\n        }\n\n        \n         return (\n                 <img onLoad={this.onImgLoad} src={src}/>\n                );\n     }\n }\n\n\nconst Image = ({ src, size }) => {\n    const style = {\n        // backgroundImage : `url(${src})`,\n        // backgroundSize: 100% 100%,\n        height: `${100 * (size / 10)}px`,\n        width: `${100 * (size / 10)}px`\n    }\n\n    return (<Grid item>\n        <img src={src} style={style} />\n    </Grid>)\n}\n\nclass LayerOutputs extends React.Component {\n    render() {\n        const { module, classes } = this.props\n\n        return (\n            <div >\n                <Grid\n                    container\n                    direction=\"row\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                    spacing={8}\n                >\n                    <Grid item xs={12}>\n                        <Typography variant=\"h6\" gutterBottom style={{ textAlign: 'center' }}>\n                            {module.state.layer.name.split('(')[0]}\n                        </Typography>\n                    </Grid>\n                    {module.state.outputs.map((link, i) =>\n                        <Image src={link} {...module.state.settings} key={i}></Image>\n                    )}\n\n                </Grid>\n                <Grid\n                    container\n                    direction=\"row\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                    spacing={8}\n                >\n                    <Grid item>\n                    {this.props.module.state.outputs.length == 0 ? \n                        (<h1>Nothing to show</h1>) : \n                        this.props.module.state.next ? (\n                        <Button variant=\"contained\" color=\"primary\" onClick={() => module.getLayerOutputs()}>\n                            More\n                        </Button>) : ''}\n                        \n                    </Grid>\n                </Grid>\n            </div>\n\n        )\n    }\n}\nexport default LayerOutputs","import React, { Component } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport classNames from 'classnames';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { Paper } from '@material-ui/core';\n\nconst styles = {\n    inputImg : {\n        width: '96px',\n        height: '96px'\n    },\n    inputImgActive: {\n        borderBottom: '3px rgb(53, 81, 181) solid'\n    }\n}\n\nvar Input = ({module, id, src, classes}) => {\n    const isActive = id == module.state.currentInput\n    return (\n        <Grid item>\n        <img className={classNames(classes.inputImg, \n                        {[classes.inputImgActive] :isActive  })}\n            src={src} onClick={() => module.setInput(id)}>\n            </img>\n        </Grid>\n    )\n}\n\nInput = withStyles(styles)(Input)\n\nexport default class Inputs extends Component {\n    componentDidMount(){\n        this.props.module.getInputs()\n    }\n    \n    render() {\n        const {classes} = this.props\n        return (\n            <Paper className={classes.inputsBar}>\n                <Grid\n                    container\n                    direction=\"row\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                    wrap='nowrap'\n                    >\n                {this.props.module.state.inputs.map((src, id) => \n                    (<Input src={src} id={id} {...this.props} key={id}></Input>))\n                    }\n                </Grid>   \n            </Paper>\n        )\n    }\n}","import React, { Component } from 'react';\nimport './App.css';\n\nimport ModuleContainer from './ModuleContainer/ModuleContainer'\nimport { Provider, Subscribe } from 'unstated';\nimport Module from './Module/Module';\nimport Settings from './Settings/Settings'\n\nimport AppBar from '@material-ui/core/AppBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Drawer from '@material-ui/core/Drawer';\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport LayerOutputs from './Module/LayerOutputs/LayerOutputs'\nimport MoreIcon from '@material-ui/icons/MoreVert';\n\nimport Hidden from '@material-ui/core/Hidden';\nimport Inputs from './Inputs/Inputs';\n\nconst drawerWidth = 300;\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    // height: 440,\n    // zIndex: 1,\n    // overflow: 'hidden',\n    // position: 'relative',\n    display: 'flex',\n    flexDirection : 'row',\n    minHeight: '100vh'\n  },\n  typography: {\n    useNextVariants: true,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    flexShrink: 0,\n\n    // position: 'relative',\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    // marginLeft: '300px',\n    // position: 'fixed',\n    // width: '100%',\n    // height: '100%',\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing.unit * 3,\n    marginBottom: '102px'\n    // minWidth: 0, // So the Typography noWrap works\n  },\n  toolbar: theme.mixins.toolbar,\n\n  progress: {\n    position: 'fixed',\n    top: '0',\n    width: '100vw',\n    zIndex: 9999\n  },\n\n  settings: {\n    width: '300px !important'\n  },\n\n  sliders : {\n    width: '200px !important'\n  },\n\n  layersOuput : {\n  },\n\n  inputsBar : {\n    position: 'fixed',\n    bottom: 0,\n    width: '100%',\n    left: 0,\n    overflowY:'scroll'\n    // padding: theme.spacing.unit * 2,\n  }\n  \n})\n\nfunction MyAppBar({ module, classes }) {\n  return (\n    <AppBar position=\"fixed\" className={classes.appBar}>\n      <Toolbar>\n        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n          Mirror\n      </Typography>\n      <div style={{flexGrow: 1}} ></div>\n      <Hidden mdUp>\n        <IconButton color=\"inherit\" onClick={module.toogleDrawer}>\n          <MoreIcon />\n        </IconButton>\n        </Hidden>\n\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nclass App extends Component {\n  state = {\n    openSettings: false\n\n  }\n\n\n  toggleSettings = () => {\n    const openSettings = !this.state.openSettings\n    this.setState({ openSettings })\n  }\n\n  render() {\n    const { classes } = this.props\n    return (\n      <Provider>\n        <Subscribe to={[ModuleContainer]}>\n          {module => (\n            <div className={classes.root}>\n              <MyAppBar module={MyAppBar} {...this.props} module={module} />\n\n              <Drawer variant=\"permanent\"\n                      className={classes.drawer}\n\n              classes={{\n                paper: classes.drawerPaper,\n              }}>\n                <div className={classes.toolbar} />\n                <Module module={module} />\n              </Drawer>\n\n              {module.state.isLoading ? (<LinearProgress color=\"secondary\" className={classes.progress} />) : ''}\n\n              <main className={classes.content}>\n                <div className={classes.toolbar} />\n                <LayerOutputs module={module} classes={classes}/>\n                <Inputs module={module} classes={classes}></Inputs>\n              </main>\n                <Hidden smDown >\n              <Settings\n                toogle={module.toogleDrawer}\n                open={module.state.open}\n                module={module} \n                classes={classes}/>\n                  </Hidden>\n\n              <Hidden mdUp>\n                <Settings\n                toogle={module.toogleDrawer}\n                open={module.state.open}\n                module={module} \n                classes={classes}\n                small={true}/>\n              </Hidden>\n            </div>\n          )}\n        </Subscribe>\n      </Provider>\n    );\n  }\n}\n\n\nvar StyledApp = withStyles(styles)(App)\n\n\nexport default StyledApp\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}